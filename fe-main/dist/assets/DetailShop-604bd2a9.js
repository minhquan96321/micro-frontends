import{importShared as xe,__tla as _e}from"./__federation_fn_import-43b6c9ad.js";import Ce,{__tla as je}from"./__federation_expose_BackPage-40f688f6.js";import{n as v,c as ke}from"./convert-de415b38.js";import{c as Te}from"./hook-b8d19a50.js";let be,Ae=Promise.all([(()=>{try{return _e}catch{}})(),(()=>{try{return je}catch{}})()]).then(async()=>{let s,e,l,a,g,h,u,i,o,w,_,b,C,j,k,T,A,P,S,N,R,B,D,V,$,E,G,K,M,z,F,L,U,q,H,I,J,O,Q,W,X,Y,Z,ee,te,se,ae,le,ne,ie,oe,ce,ue,re,de,ve,me,p,fe,he;({createVNode:s,createElementVNode:e,unref:l,toDisplayString:a,normalizeClass:g,resolveComponent:h,withCtx:u,openBlock:i,createElementBlock:o,createCommentVNode:w,renderList:_,Fragment:b,vShow:C,withDirectives:j}=await xe("vue")),k={class:"transaction-detail pt-back"},T={key:0,class:"content p-3"},A={class:"flex flex-col items-center gap-4"},P=e("div",{class:"note"},"T\u1ED5ng th\u01B0\u1EDFng",-1),S={class:"flex justify-between"},N=e("div",{class:""},"Tr\u1EA1ng th\xE1i",-1),R={key:0,class:"text-green-600"},B={key:1,class:"text-yellow-400"},D={class:"flex justify-between py-3"},V=e("div",{class:""},"Kh\xE1ch h\xE0ng",-1),$={class:"customer"},E={class:"flex justify-between py-3"},G=e("div",{class:""},"Ng\u01B0\u1EDDi gi\u1EDBi thi\u1EC7u",-1),K={class:"customer"},M={class:"flex justify-between py-3"},z=e("div",{class:""},"Gi\xE1 tr\u1ECB \u0111\u01A1n h\xE0ng",-1),F={class:"flex flex-col items-end"},L={class:"flex justify-between py-3"},U=e("div",{class:"flex flex-col"},[e("span",null,"Ng\u01B0\u1EDDi mua thanh to\xE1n")],-1),q={key:0},H={class:"flex justify-between py-3"},I=e("div",null,"Ghi ch\xFA \u0111\u01A1n h\xE0ng",-1),J={key:0},O={key:1,class:"opacity-50"},Q={class:"flex justify-between py-3"},W=e("div",{class:""},"T\u1ED5ng th\u01B0\u1EDFng",-1),X={class:"font-bold"},Y={class:"flex justify-between items-center py-3"},Z=e("div",{class:""},"Th\u01B0\u1EDFng cho kh\xE1ch h\xE0ng",-1),ee={class:"flex justify-between items-center py-3"},te=e("div",{class:""},"Th\u01B0\u1EDFng cho ng\u01B0\u1EDDi gi\u1EDBi thi\u1EC7u",-1),se={class:"flex justify-between py-3"},ae=e("div",{class:""},"Ph\xED n\u1EC1n t\u1EA3ng (5%)",-1),le={class:"font-bold"},ne={class:"flex justify-between py-3"},ie=e("div",{class:""},"Th\u1EDDi gian t\u1EA1o",-1),oe={class:"flex justify-between py-3"},ce=e("div",{class:""},"T\u1EA1o b\u1EDFi",-1),ue={class:"px-4 flex items-center justify-center h-full w-full pb-10 mb"},re=["src"],de={key:1,class:"m-4"},ve={class:"px-4 flex items-center justify-center h-full w-full pb-10 mb"},me=["src"],{ref:p,onMounted:fe,reactive:he}=await xe("vue"),be={__name:"DetailShop",setup(Pe){const t=p({}),d=window.$stores.transaction.transactionShow,y=p(!1),n=he({customerPay:0,amount:d.amount,bonusCustomer:0,bonusAffiliater:0,fee:0}),pe=()=>{const x=t.value.transaction.find(c=>c.note==="Bonus for using service"),m=t.value.transaction.find(c=>c.note==="Bonus for refer customer"),r=t.value.transaction.find(c=>c.note==="Transaction fee");n.bonusAffiliater=m.amount,n.fee=r.amount,t.value.customerPreferCash?(n.bonusCustomer=Math.abs(d.amount)-n.bonusAffiliater-n.fee,n.customerPay=d.metadata.totalAmount-n.bonusCustomer):(n.bonusCustomer=x.amount,n.customerPay=d.metadata.totalAmount)};return fe(()=>{window.$stores.bill.detail({id:window.$route.params.id,showType:"shop"}).then(x=>{t.value=x,pe()})}),(x,m)=>{const r=h("Card"),c=h("Skeleton"),ye=h("Carousel"),ge=h("Dialog");return i(),o(b,null,[e("div",k,[s(Ce,{name:"Chi ti\u1EBFt giao d\u1ECBch",class:"bg-primary"}),t.value&&t.value._id?(i(),o("div",T,[s(r,{class:"mt-3"},{content:u(()=>[e("div",A,[P,e("div",{class:g([l(Te)(),"font-bold text-3xl"])},a(l(v)(l(d).amount)),3)])]),_:1}),s(r,{class:"mt-3"},{content:u(()=>[e("div",S,[N,t.value.status==="success"?(i(),o("div",R,"Th\xE0nh c\xF4ng")):(i(),o("div",B,"Ch\u1EDD x\xE1c nh\u1EADn"))])]),_:1}),s(r,{class:"mt-3"},{content:u(()=>[e("div",D,[V,e("div",$,[e("span",null,a(t.value.customer.name),1)])]),e("div",E,[G,e("div",K,[e("span",null,a(t.value.affiliater.name),1)])])]),_:1}),s(r,{class:"mt-3"},{content:u(()=>[e("div",M,[z,e("div",null,[e("div",F,[e("div",null,a(l(v)(l(d).metadata.totalAmount)),1),e("div",{class:"opacity-50 text-[10px]",onClick:m[0]||(m[0]=f=>y.value=!0)},a(`\u1EA2nh ho\xE1 \u0111\u01A1n (${t.value.images.length})`),1)])])]),e("div",L,[U,t.value.customerPreferCash?w("",!0):(i(),o("div",q,a(l(v)(n.customerPay)),1))]),e("div",H,[I,t.value.note?(i(),o("div",J,a(t.value.note),1)):(i(),o("div",O,"Kh\xF4ng c\xF3"))])]),_:1}),s(r,{class:"mt-3"},{content:u(()=>[e("div",Q,[W,e("div",X,a(l(v)(l(d).amount)),1)]),e("div",Y,[Z,e("div",null,a(l(v)(n.bonusCustomer)),1)]),e("div",ee,[te,e("div",null,a(l(v)(n.bonusAffiliater)),1)]),e("div",se,[ae,e("div",le,a(l(v)(n.fee)),1)])]),_:1}),s(r,{class:"mt-3"},{content:u(()=>[e("div",ne,[ie,e("div",null,a(l(ke)(t.value.createdAt)),1)]),e("div",oe,[ce,e("div",null,[e("span",null,a(t.value.created.name),1)])])]),_:1}),j(e("div",ue,[(i(!0),o(b,null,_(t.value.images,(f,we)=>(i(),o("img",{key:we,src:f,alt:"bill",class:"w-full border-round object-cover h-full"},null,8,re))),128))],512),[[C,!1]])])):(i(),o("div",de,[s(c,{width:"100%",height:"4rem",borderRadius:"16px"}),s(c,{width:"100%",class:"mb-2 mt-4",borderRadius:"16px"}),s(c,{width:"50%",borderRadius:"16px",class:"mb-2"}),s(c,{height:"20%",class:"mb-2",borderRadius:"16px"}),s(c,{width:"100%",height:"50vh",borderRadius:"16px"})]))]),s(ge,{visible:y.value,"onUpdate:visible":m[1]||(m[1]=f=>y.value=f),modal:"",header:"\u1EA2nh ho\xE1 \u0111\u01A1n",style:{width:"calc(100vw - 32px)"},contentStyle:"padding: 0"},{default:u(()=>[s(ye,{value:t.value.images,numVisible:1,numScroll:1,showNavigators:!1},{item:u(f=>[e("div",ve,[e("img",{src:f.data,alt:"bill",class:"w-full border-round object-cover h-full"},null,8,me)])]),_:1},8,["value"])]),_:1},8,["visible"])],64)}}}});export{Ae as __tla,be as default};
