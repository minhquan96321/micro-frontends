import{importShared as w,__tla as $e}from"./__federation_fn_import-9636f06d.js";let Pe,D,F,Se=Promise.all([(()=>{try{return $e}catch{}})()]).then(async()=>{let E,I,v,x,g,L,M,T,P,j,z,J,O,R,V,_,s,y,h,b,B,G,U,k,$,X,q,H,K,Q,W,Y,Z,ee,te,ie,ne,se,ae,le;({unref:E,normalizeClass:I,createElementVNode:v,openBlock:x,createElementBlock:g,createCommentVNode:L,renderList:M,Fragment:T,toDisplayString:P}=await w("vue")),j={class:"flex mt-2"},z={key:0,class:"w-8 flex items-center"},J={class:"flex gap-2 flex-1"},O={class:"flex-1 flex flex-wrap"},R={key:0,class:"text-primary flex items-center px-1 opacity-80 border-primary"},{reactive:V}=await w("vue"),D={__name:"ListProduct",props:["discount","activeEditProduct"],setup(i){const n=i,p=V({deleteLoading:!1,activeEdit:!1}),m=V({});for(const e of window.$stores.product.listProduct)m[e._id]=e;const c=()=>{p.deleteLoading||(p.deleteLoading=!0,window.$api.call("discount/remove",{id:n.discount._id}).finally(async()=>{await window.$stores.discount.list(),p.deleteLoading=!1}))},f=window.location.pathname.includes("edit");return(e,l)=>(x(),g("div",j,[E(f)?(x(),g("div",z,[v("span",{class:I(["mb-[2px]",p.deleteLoading?"pi pi-spin pi-spinner":"pi pi-trash"]),onClick:l[0]||(l[0]=r=>c())},null,2)])):L("",!0),v("div",J,[v("div",O,[(x(!0),g(T,null,M(i.discount.products,(r,C)=>{var Le;return x(),g("div",{key:r,class:"py-[2px] w-fit flex items-center gap-2 whitespace-nowrap font-semibold"},P((Le=m[r])==null?void 0:Le.name)+" "+P(i.discount.products.length!==1&&C!==i.discount.products.length-1?",":""),1)}),128))]),E(f)?(x(),g("div",R,[v("span",{class:"text-primary pi pi-file-edit",onClick:l[1]||(l[1]=(...r)=>i.activeEditProduct&&i.activeEditProduct(...r))})])):L("",!0)])]))}},_=i=>{const n=Number(i);return typeof n!="number"?"invalid":isNaN(n)?"NaN":n%1!==0?"S\u1ED1 ti\u1EC1n ph\u1EA3i tr\xF2n \u0111\u01A1n v\u1ECB \u0111\u1ED3ng":new Intl.NumberFormat("de-DE",{style:"currency",currency:"VND"}).format(n)},{createElementVNode:s,unref:y,openBlock:h,createElementBlock:b,createCommentVNode:B,renderList:G,Fragment:U,toDisplayString:k,createTextVNode:$,normalizeClass:X}=await w("vue"),q={class:"border-gray-300 w-full mt-4"},H={class:"w-full font-normal mb-10 [&>*]:border-gray-300"},K={class:"border h-10 [&>*]:bg-gray-300"},Q=s("th",{class:"border-r min-w-6"},"#",-1),W=s("th",{class:"border-r"},"Gi\xE1 tr\u1ECB mua h\xE0ng",-1),Y=s("th",{class:"border-r"},"M\u1EE9c th\u01B0\u1EDFng",-1),Z={key:0,class:"px-1"},ee={class:"border-r p-1 text-center"},te={class:"border-r p-1"},ie=s("span",null,"-",-1),ne={class:"border-r p-1"},se={key:0,style:{"text-align":"center","vertical-align":"middle"}},ae=["onClick"],{ref:le}=await w("vue"),F={__name:"Table",props:["discount"],setup(i){const n=le(!1),p=(c,f,e)=>{n.value=c+e,window.$api.call("discount/removeRule",{id:c,rule:f}).finally(async()=>{await window.$stores.discount.list(),n.value=!1})},m=window.location.pathname.includes("edit");return(c,f)=>(h(),b("div",q,[s("table",H,[s("tr",K,[Q,W,Y,y(m)?(h(),b("th",Z,"X\xF3a")):B("",!0)]),(h(!0),b(U,null,G(JSON.parse(JSON.stringify(i.discount.discountRule)).sort((e,l)=>e.minAmount-l.minAmount),(e,l)=>(h(),b("tr",{key:e,class:"border h-8 text-xs [&>*]:border-gray-300"},[s("td",ee,k(l+1),1),s("td",te,[$(k(y(_)(e.minAmount))+" ",1),ie,$(" "+k(y(_)(e.maxAmount)),1)]),s("td",ne,k(e.discountMethod==="percent"?e.value+"%":y(_)(e.value)),1),y(m)?(h(),b("td",se,[s("span",{class:X(n.value===i.discount._id+l?"pi pi-spin pi-spinner":"pi pi-trash"),onClick:r=>p(i.discount._id,e,l)},null,10,ae)])):B("",!0)]))),128))])]))}};let t,d,a,o,u,S,N,re,A,oe,ce,de,ue,pe,me,fe,xe,ge,ye,he,be,we,ve,ke,Ne,_e,Ce,Ve,Ee,Be;({createElementVNode:t,unref:d,openBlock:a,createElementBlock:o,createCommentVNode:u,toDisplayString:S,createTextVNode:N,renderList:re,Fragment:A,createBlock:oe,createVNode:ce}=await w("vue")),de={class:"flex items-center justify-between my-4"},ue=t("div",{class:"font-semibold"},"\u01AFu \u0111\xE3i gi\u1EDBi thi\u1EC7u",-1),pe=t("span",{class:"pi pi-file-edit"},null,-1),me=[pe],fe={class:"bg-[#ffe6d6] text-[#CC5F12] flex items-center p-2 gap-4 rounded"},xe=t("span",{class:"pi pi-thumbs-up-fill"},null,-1),ge={class:"text-xs pl-3 flex flex-col",style:{"list-style-type":"disc"}},ye={class:"inline"},he={key:0,class:"font-semibold"},be={key:0},we=t("span",{class:"font-semibold"},", ng\u01B0\u1EDDi gi\u1EDBi thi\u1EC7u",-1),ve={key:0,class:"mt-2 inline"},ke=t("span",null,[t("span",{class:"font-semibold"},"Ng\u01B0\u1EDDi gi\u1EDBi thi\u1EC7u"),N(" c\u1EA7n ph\xE1t sinh h\xF3a \u0111\u01A1n t\u1EA1i c\u1EEDa h\xE0ng m\u1EDBi c\xF3 th\u1EC3 gi\u1EDBi thi\u1EC7u b\u1EA1n b\xE8 v\xE0 nh\u1EADn th\u01B0\u1EDFng. ")],-1),Ne=[ke],_e={key:0,id:"aff-show",class:"mb-4"},Ce={key:0,class:"font-semibold text-base mt-4"},{ref:Ve,onMounted:Ee,onUnmounted:Be}=await w("vue"),Pe={__name:"Affiliate",setup(i){const{listDiscount:n}=window.$stores.discount,{mode:p,affiliater:m,affiliaterBonus:c}=window.$stores.shop,f=()=>{window.$router.push("/dashboard/affiliate/edit")};return Ee(()=>{}),(e,l)=>(a(),o(A,null,[t("div",de,[ue,d(p)==="owner"?(a(),o("div",{key:0,class:"border w-6 h-6 border-primary rounded text-primary flex justify-center items-center",onClick:f},me)):u("",!0)]),t("div",fe,[xe,t("ul",ge,[t("li",ye,[t("span",null,[t("span",null,[N(" N\u1EBFu \u0111\u01A1n h\xE0ng c\xF3 ng\u01B0\u1EDDi gi\u1EDBi thi\u1EC7u"),d(c)?(a(),o("span",he,", ng\u01B0\u1EDDi mua h\xE0ng ")):u("",!0),N("\u0111\u01B0\u1EE3c "+S(100-parseInt(d(c)*100))+"% m\u1EE9c th\u01B0\u1EDFng",1)]),100-d(c)*100?(a(),o("span",be,[we,N(" \u0111\u01B0\u1EE3c "+S(parseInt(d(c)*100))+"% m\u1EE9c th\u01B0\u1EDFng",1)])):u("",!0)])]),d(m)==="customer"?(a(),o("li",ve,Ne)):u("",!0)])]),d(n)?(a(),o("div",_e,[(a(!0),o(A,null,re(d(n),(r,C)=>(a(),o("div",{key:r._id,class:"border-b pb-4"},[C===1?(a(),o("div",Ce,"Nh\xF3m th\u01B0\u1EDFng \u0111\u1EB7c bi\u1EC7t")):u("",!0),C?(a(),oe(D,{key:1,discount:r,activeEditProduct:()=>(e.stateConfig.editProductActive=r)&&(e.stateConfig.openProduct=!0)},null,8,["discount","activeEditProduct"])):u("",!0),ce(F,{discount:r},null,8,["discount"])]))),128))])):u("",!0)],64))}}});export{Pe as _,Se as __tla,D as a,F as b};
